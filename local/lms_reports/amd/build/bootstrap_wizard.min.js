define(["jquery"],function(n){return{init:function(){var f;(f=jQuery).fn.bootstrapWizard=function(i){if("string"==typeof i){var n=Array.prototype.slice.call(arguments,1);return 1===n.length&&n.toString(),this.data("bootstrapWizard")[i](n)}return this.each(function(n){var t=f(this);if(!t.data("bootstrapWizard")){var e=new function(e,n){e=f(e);var o=this,a='li:has([data-toggle="tab"])',i=[],r=f.extend({},f.fn.bootstrapWizard.defaults,n),s=null,l=null;this.rebindClick=function(n,t){n.unbind("click",t).bind("click",t)},this.fixNavigationButtons=function(){if(s.length||(l.find("a:first"),f(this).find("li a.active").css("color","red"),s=l.find(a+":first")),f(r.previousSelector,e).toggleClass("disabled",o.firstIndex()>=o.currentIndex()),f(r.nextSelector,e).toggleClass("disabled",o.currentIndex()>=o.navigationLength()),f(r.nextSelector,e).toggleClass("hidden",o.currentIndex()>=o.navigationLength()&&0<f(r.finishSelector,e).length),f(r.lastSelector,e).toggleClass("hidden",o.currentIndex()>=o.navigationLength()&&0<f(r.finishSelector,e).length),f(r.finishSelector,e).toggleClass("hidden",o.currentIndex()<o.navigationLength()),f(r.backSelector,e).toggleClass("disabled",0==i.length),f(r.backSelector,e).toggleClass("hidden",o.currentIndex()>=o.navigationLength()&&0<f(r.finishSelector,e).length),o.rebindClick(f(r.nextSelector,e),o.next),o.rebindClick(f(r.previousSelector,e),o.previous),o.rebindClick(f(r.lastSelector,e),o.last),o.rebindClick(f(r.firstSelector,e),o.first),o.rebindClick(f(r.finishSelector,e),o.finish),o.rebindClick(f(r.backSelector,e),o.back),r.onTabShow&&"function"==typeof r.onTabShow&&!1===r.onTabShow(s,l,o.currentIndex()))return!1},this.next=function(n){if(e.hasClass("last"))return!1;if(r.onNext&&"function"==typeof r.onNext&&!1===r.onNext(s,l,o.nextIndex()))return!1;var t=o.currentIndex();$index=o.nextIndex(),$index>o.navigationLength()||(i.push(t),l.find(a+":eq("+$index+") a").tab("show"))},this.previous=function(n){if(e.hasClass("first"))return!1;if(r.onPrevious&&"function"==typeof r.onPrevious&&!1===r.onPrevious(s,l,o.previousIndex()))return!1;var t=o.currentIndex();$index=o.previousIndex(),$index<0||(i.push(t),l.find(a+":eq("+$index+") a").tab("show"))},this.first=function(n){return(!r.onFirst||"function"!=typeof r.onFirst||!1!==r.onFirst(s,l,o.firstIndex()))&&!e.hasClass("disabled")&&(i.push(o.currentIndex()),void l.find(a+":eq(0) a").tab("show"))},this.last=function(n){return(!r.onLast||"function"!=typeof r.onLast||!1!==r.onLast(s,l,o.lastIndex()))&&!e.hasClass("disabled")&&(i.push(o.currentIndex()),void l.find(a+":eq("+o.navigationLength()+") a").tab("show"))},this.finish=function(n){r.onFinish&&"function"==typeof r.onFinish&&r.onFinish(s,l,o.lastIndex())},this.back=function(){if(0==i.length)return null;var n=i.pop();if(r.onBack&&"function"==typeof r.onBack&&!1===r.onBack(s,l,n))return i.push(n),!1;e.find(a+":eq("+n+") a").tab("show")},this.currentIndex=function(){return l.find(a).index(s)},this.firstIndex=function(){return 0},this.lastIndex=function(){return o.navigationLength()},this.getIndex=function(n){return l.find(a).index(n)},this.nextIndex=function(){return l.find(a).index(s)+1},this.previousIndex=function(){return l.find(a).index(s)-1},this.navigationLength=function(){return l.find(a).length-1},this.activeTab=function(){return s},this.nextTab=function(){return l.find(a+":eq("+(o.currentIndex()+1)+")").length?l.find(a+":eq("+(o.currentIndex()+1)+")"):null},this.previousTab=function(){return o.currentIndex()<=0?null:l.find(a+":eq("+parseInt(o.currentIndex()-1)+")")},this.show=function(n){var t=isNaN(n)?e.find(a+" a[href=#"+n+"]"):e.find(a+":eq("+n+") a");0<t.length&&(i.push(o.currentIndex()),t.tab("show"))},this.disable=function(n){l.find(a+":eq("+n+")").addClass("disabled")},this.enable=function(n){l.find(a+":eq("+n+")").removeClass("disabled")},this.hide=function(n){l.find(a+":eq("+n+")").hide()},this.display=function(n){l.find(a+":eq("+n+")").show()},this.remove=function(n){var t=n[0],e=void 0!==n[1]&&n[1],i=l.find(a+":eq("+t+")");if(e){var o=i.find("a").attr("href");f(o).remove()}i.remove()};var t=function(n){var t=l.find(a),e=t.index(f(n.currentTarget).parent(a)),i=f(t[e]);if(r.onTabClick&&"function"==typeof r.onTabClick&&!1===r.onTabClick(s,l,o.currentIndex(),e,i))return!1},d=function(n){$element=f(n.target).parent();var t=l.find(a).index($element);return!$element.hasClass("disabled")&&(!r.onTabChange||"function"!=typeof r.onTabChange||!1!==r.onTabChange(s,l,o.currentIndex(),t))&&(s=$element,void o.fixNavigationButtons())};this.resetWizard=function(){f('a[data-toggle="tab"]',l).off("click",t),f('a[data-toggle="tab"]',l).off("shown shown.bs.tab",d),l=e.find("ul:first",e),s=l.find(a+".active",e),f('a[data-toggle="tab"]',l).on("click",t),f('a[data-toggle="tab"]',l).on("shown shown.bs.tab",d),o.fixNavigationButtons()},l=e.find("ul:first",e),s=l.find(a+".active",e),l.hasClass(r.tabClass)||l.addClass(r.tabClass),r.onInit&&"function"==typeof r.onInit&&r.onInit(s,l,0),r.onShow&&"function"==typeof r.onShow&&r.onShow(s,l,o.nextIndex()),f('a[data-toggle="tab"]',l).on("click",t),f('a[data-toggle="tab"]',l).on("shown shown.bs.tab",d)}(t,i);t.data("bootstrapWizard",e),e.fixNavigationButtons()}})},f.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}}}});