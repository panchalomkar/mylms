{"version":3,"file":"addblockaddedlistners.min.js","sources":["../src/addblockaddedlistners.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable no-console*/\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Show an add block modal instead of doing it on a separate page.\n *\n * @module     theme_remui/addblockaddedlistners\n * @copyright  2016 Damyon Wiese <damyon@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport { get_string as getString } from 'core/str';\nimport Ajax from 'core/ajax';\nimport $ from 'jquery';\nimport { exception as displayException } from 'core/notification';\n\nconst SELECTORS = {\n    ADD_BLOCK: '[data-key=\"addblock\"]',\n    DEFAULTBLOCKWRAPPER: '.modal-body  .default-blocks-wrapper',\n    ADDBLOCKGRIDVIEW: '.add-block-grid-view',\n    ADDBLOCKLISTVIEW: '.add-block-list-view',\n    DYNAMICBLOCKSWRAPPER: 'dynamic-blocks-wrapper',\n    STATICBLOCKSWRAPPER: 'static-blocks-wrapper',\n    BLOCKLAYOUTWRAPPER: 'block-layout-wrapper',\n    DYNAMICBLOCKSFILTERS: 'dynamic-blocks-filters',\n    STATICBLOCKSFILTERS: 'static-blocks-filters',\n    BLOCKLAYOUTFILTERS: 'block-layout-filters',\n    LEFTSIDEBARMIDREGIN:'left-sidebar-mid-region',\n    COMMONBLOCKWRAPPER:'common-block-wrapper',\n\n};\n\nlet activeclassview = 'grid-view';\nlet notactiveclassview = 'list-view';\nlet userprefclass = SELECTORS.ADDBLOCKGRIDVIEW;\nlet usernotprefclass = SELECTORS.ADDBLOCKLISTVIEW;\nlet templatefile = 'theme_remui/add_block_body_cards';\nlet csscontent = '';\nlet prefview = 'card';\nlet tabpref = 'edwadvancedblocks';\nlet edwiseradvancedblocktab = '.edwiseradvancedblocktab';\nlet moodleblockstab = '.moodleblockstab';\nlet activeadvancedtab = true;\n/**\n * Initialize events\n */\nfunction init() {\n    let scrollInterval;\n\n    function scrollBlockCategoryListDesktop(ele) {\n        ele.animate({\n            scrollTop: 0\n        }, {\n            duration: 'smooth',\n            complete: function() {\n                // This function will be called when the animation is complete\n                $(this).stop(true, true); // Stop the animation immediately\n            }\n        });\n    };\n\n    document.addEventListener('click', e => {\n        const selecteditem = e.target.closest('.add-block-grid-view');\n        templatefile = 'theme_remui/add_block_body_cards';\n        if (selecteditem) {\n            activeclassview = 'grid-view';\n            notactiveclassview = 'list-view';\n            userprefclass = SELECTORS.ADDBLOCKGRIDVIEW;\n            usernotprefclass = SELECTORS.ADDBLOCKLISTVIEW;\n            $(userprefclass).addClass('active');\n            $(usernotprefclass).removeClass('active');\n            $(SELECTORS.DEFAULTBLOCKWRAPPER).removeClass(notactiveclassview).addClass(activeclassview);\n        }\n    });\n\n    document.addEventListener('click', e => {\n        const selecteditem = e.target.closest('.add-block-list-view');\n        if (selecteditem) {\n            activeclassview = 'list-view';\n            notactiveclassview = 'grid-view';\n            userprefclass = SELECTORS.ADDBLOCKLISTVIEW;\n            usernotprefclass = SELECTORS.ADDBLOCKGRIDVIEW;\n            $(userprefclass).addClass('active');\n            $(usernotprefclass).removeClass('active');\n            $(SELECTORS.DEFAULTBLOCKWRAPPER).removeClass(notactiveclassview).addClass(activeclassview);\n        }\n    });\n\n    document.addEventListener('click', e => {\n        const selecteditem = e.target.closest('.edwiseradvancedblocktab');\n        if (selecteditem) {\n            activeadvancedtab = true;\n            $('.moodleblock').addClass('d-none');\n            $('.advanceblockblocks').removeClass('d-none');\n            $('.advancedblocktab').addClass('active show');\n            $('.moodleblocktab').removeClass('active show');\n            $('.action-buttons-modal').removeClass('d-none');\n            $('.edw-tabs-navigation.edwiser-custom-blocks-nav').removeClass('d-none');\n            // The variable edwremuitheninfo is comming from theme using data for js\n            if ( typeof edwremuithemeinfo !== 'undefined' && edwremuithemeinfo == 'available') {\n                $('.modal-subheader').addClass('p-mb-2').removeClass('p-mb-6');\n            }\n        }\n    });\n\n    document.addEventListener('click', e => {\n        const selecteditem = e.target.closest('.edwmoodleblockstab');\n        if (selecteditem) {\n            activeadvancedtab = false;\n            $('.moodleblock').removeClass('d-none');\n            $('.advanceblockblocks').addClass('d-none');\n            $('.moodleblocktab').addClass('active show');\n            $('.advancedblocktab').removeClass('active show');\n            $('.action-buttons-modal').addClass('d-none');\n            $('.modal-subheader').addClass('p-mb-6').removeClass('p-mb-2');\n            $('.edw-tabs-navigation.edwiser-custom-blocks-nav').addClass('d-none');\n        }\n    });\n\n    document.addEventListener('click', e => {\n        const selecteditem = e.target.closest('#static-blocks-btn');\n        if (selecteditem) {\n            $(SELECTORS.DEFAULTBLOCKWRAPPER).removeClass(`${SELECTORS.DYNAMICBLOCKSWRAPPER} ${SELECTORS.BLOCKLAYOUTWRAPPER}`).addClass(SELECTORS.STATICBLOCKSWRAPPER);\n            $(`.${SELECTORS.LEFTSIDEBARMIDREGIN}`).removeClass().addClass(`${SELECTORS.LEFTSIDEBARMIDREGIN} ${SELECTORS.STATICBLOCKSFILTERS}`);\n            var filtercategory = $(selecteditem).data('filter');\n            var filteritem = $(`.${SELECTORS.LEFTSIDEBARMIDREGIN} .${filtercategory}.active`);\n            applySelectedCategory(filteritem);\n            applyFilterOnBlocks($(filteritem));\n        }\n    });\n\n    document.addEventListener('click', e => {\n        const selecteditem = e.target.closest('#dynamic-blocks-btn');\n        if (selecteditem) {\n            $(SELECTORS.DEFAULTBLOCKWRAPPER).removeClass(`${SELECTORS.STATICBLOCKSWRAPPER} ${SELECTORS.BLOCKLAYOUTWRAPPER}`).addClass(SELECTORS.DYNAMICBLOCKSWRAPPER);\n            $(`.${SELECTORS.LEFTSIDEBARMIDREGIN}`).removeClass().addClass(`${SELECTORS.LEFTSIDEBARMIDREGIN} ${SELECTORS.DYNAMICBLOCKSFILTERS}`);\n            var filtercategory = $(selecteditem).data('filter');\n            var filteritem = $(`.${SELECTORS.LEFTSIDEBARMIDREGIN} .${filtercategory}.active`);\n            applySelectedCategory(filteritem);\n            applyFilterOnBlocks($(filteritem));\n        }\n    });\n\n    document.addEventListener('click', e => {\n        const selecteditem = e.target.closest('#layout-blocks-btn');\n        if (selecteditem) {\n            $(SELECTORS.DEFAULTBLOCKWRAPPER).removeClass(`${SELECTORS.DYNAMICBLOCKSWRAPPER} ${SELECTORS.STATICBLOCKSWRAPPER}`).addClass(SELECTORS.BLOCKLAYOUTWRAPPER);\n            $(`.${SELECTORS.LEFTSIDEBARMIDREGIN}`).removeClass().addClass(`${SELECTORS.LEFTSIDEBARMIDREGIN} ${SELECTORS.BLOCKLAYOUTFILTERS}`);\n            var filtercategory = $(selecteditem).data('filter');\n            var filteritem = $(`.${SELECTORS.LEFTSIDEBARMIDREGIN} .${filtercategory}.active`);\n            applySelectedCategory(filteritem);\n            applyFilterOnBlocks($(filteritem));\n\n        }\n    });\n\n    // On mouse enter of block layout image\n    $(document).on('mouseenter', \".addblock-modal-body .block-page-layout\", function () {\n\n        // Get card height\n        const cardHeight = $(this).find(\".card\").height();\n\n        // Get card image\n        const img = $(this).find(\".card img\");\n\n        // Get image height\n        const imgHeight = img.height();\n\n        // Calculate scroll height by subtracting card height from image height (adding 40px for ensuriing smooth scroll)\n        let scrollHeight = imgHeight - cardHeight + 40;\n\n        // Remove animation\n        img.css(\"animation\", \"unset\");\n\n        // If scroll height is greater than 0\n        if (scrollHeight > 0) {\n\n            // Calculate scroll time\n            let scrolltime = scrollHeight / 100;\n            if (scrolltime < 1) {\n                scrolltime = 1;\n            }\n\n            // Set transition\n            img.css(\"transition\", `top ${scrolltime}s ease-in-out`);\n\n            // Set initial top position\n            img.css(\"top\", `${-scrollHeight}px`);\n\n            // On transition end, set top to 0\n            img.one('transitionend', function() {\n                img.css(\"top\", `0px`);\n            });\n\n            // Set interval to repeat scroll animation\n            scrollInterval = setInterval(function() {\n\n                img.css(\"top\", `${-scrollHeight}px`);\n\n                img.one('transitionend', function() {\n                    img.css(\"top\", `0px`);\n                });\n\n            }, scrolltime * 2000);\n        }\n    });\n\n    $(document).on('mouseleave', \".addblock-modal-body .block-page-layout\", function() {\n        const img = $(this).find(\".card img\");\n        img.css(\"transition\", \"unset\");\n        img.css(\"top\", `0px`);\n\n        clearInterval(scrollInterval);\n    });\n\n    $(document).on('click', \".advancedblocktab .left-sidebar .category-list-item .edw-icon\", function(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        var $activeClass = \"active\";\n        var categorylistitem = $(this).closest(\".category-list-item\");\n        var categoryFilter = categorylistitem.data('filter');\n        var selectedElement = $(`.${SELECTORS.LEFTSIDEBARMIDREGIN} .category-list-item[data-filter=\"${categoryFilter}\"][data-target=\"all\"]`);\n        selectedElement.addClass($activeClass).siblings('[data-filter=\"' + categoryFilter + '\"]').removeClass($activeClass);\n        // selectedElements.addClass('active');\n        applyFilterOnBlocks(selectedElement);\n        scrollBlockCategoryListDesktop($('.block-category-list-desktop'));\n    });\n\n    $(document).on('click', \".advancedblocktab .left-sidebar .category-selector\", function() {\n        applySelectedCategory(this);\n        applyFilterOnBlocks($(this));\n    });\n    $(document).off('click', '.block_exporter_btn').on('click', '.block_exporter_btn', async function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        try {\n            const blockid = $(this).data('blockid'); // Get the block ID from the button\n\n            // Prepare request payload\n            const request = {\n                methodname: 'local_edwiserpagebuilder_do_import_export_action',\n                args: {\n                    action: \"export_blocks_data\",\n                    config: JSON.stringify({ blockid })\n                }\n            };\n\n            // Send the AJAX request\n            let response = await Ajax.call([request])[0];\n\n            response = JSON.parse(response);\n\n            // Check for errors in the response\n            if (response.error) {\n                alert(\"Error: \" + response.message);\n                return;\n            }\n\n            // Create a Blob from the JSON response\n            const blob = new Blob([JSON.stringify(response, null, 2)], { type: 'application/json' });\n            const filename = `block_${blockid}.json`;\n\n            // Create a link element to download the file\n            const link = document.createElement('a');\n            link.href = URL.createObjectURL(blob);\n            link.download = filename;\n\n            // Trigger the download\n            document.body.appendChild(link);\n            link.click();\n\n            // Clean up\n            document.body.removeChild(link);\n            URL.revokeObjectURL(link.href);\n\n            console.log(\"Export successful\");\n        } catch (error) {\n            console.error(\"Export failed:\", error);\n        }\n    });\n\n    $(document).off('submit', '.block_json_upload_form').on('submit', '.block_json_upload_form', function (e) {\n\n        e.preventDefault(); // Prevent the default form submission\n        const form = $(this); // Capture the form element context\n        const submitButton = form.find('button[type=\"submit\"]'); // Get the submit button\n        submitButton.prop('disabled', true); // Disable the submit button\n\n        const fileInput = form.find('.jsonfileholder')[0]; // Get the file input element by class\n        const file = fileInput.files[0]; // Get the selected file\n\n        const blockid = form.closest(\"section.block_edwiseradvancedblock\").attr('data-instance-id'); // Get the block ID\n\n        if (file) {\n            const reader = new FileReader();\n\n            reader.onload = async function (event) {\n                let fileContent = event.target.result;\n\n                try {\n                    fileContent = JSON.parse(fileContent); // Parse the file content\n                } catch (err) {\n                    console.error(\"Invalid JSON file content\");\n                    alert(\"The selected file contains invalid JSON.\");\n                    submitButton.prop('disabled', false);\n                    return;\n                }\n\n                // Prepare request payload\n                const request = {\n                    methodname: 'local_edwiserpagebuilder_do_import_export_action',\n                    args: {\n                        action: \"import_blocks_data\",\n                        config: JSON.stringify({\n                            'blockid': blockid,\n                            'blockdata': fileContent,\n                        })\n                    }\n                };\n\n                try {\n                    // Send the AJAX request\n                    let response = await Ajax.call([request])[0];\n\n                    response = JSON.parse(response);\n\n                    if (response.status == 'success') {\n                        window.location.reload();\n                    } else {\n                        // Remove existing error message elements\n                        form.find('.block_import_exporterrormsg').remove();\n\n                        // Create a new error message paragraph element with red text\n                        const errorMessage = `<p class=\"block_import_exporterrormsg \" style=\"margin-top: 16px;margin-bottom: 0px;color: #B60011;font-size: 12px;font-style: normal;font-weight: 400\">${response.message}</p>`;\n\n                        // Insert the new error message above the submit button\n                        submitButton.before(errorMessage);\n\n                    }\n                } catch (err) {\n                    console.error(\"Error with AJAX request:\", err);\n                } finally {\n                    // Re-enable the submit button\n                    submitButton.prop('disabled', false);\n                }\n            };\n\n            reader.onerror = function () {\n                console.error('Error reading the file');\n                submitButton.prop('disabled', false);\n            };\n\n            reader.readAsText(file); // Read the file as text\n        } else {\n            submitButton.prop('disabled', false);\n        }\n    });\n\n    $(document).ready(function () {\n        // Iterate through all sections that have block bodies containing 'data-edwiser-dynamic'\n        $('section.block_edwiseradvancedblock').each(function () {\n            // Check if the block body contains the attribute 'data-edwiser-dynamic'\n            if ($(this).find('[data-edwiser-dynamic]').length > 0) {\n                // Hide the button with class 'block_exporter_btn' in the header of this block\n                $(this).find('.block_exporter_btn').hide();\n            }\n        });\n    });\n\n    // $(window).on('resize', blockViewHandler);\n}\n\n/**\n * Applies the selected category filter to the block category list.\n *\n * @param {HTMLElement} category - The category element that was selected.\n */\nfunction applySelectedCategory(category) {\n\n    // for desktop filter\n    var $activeClass = \"active\";\n    var categoryFilter = $(category).data('filter');\n    var categorytarget = $(category).data('target');\n    var categoryListItem = $('.block-category-list-desktop .category-list-item[data-target=\"' + categorytarget + '\"][data-filter=\"' + categoryFilter + '\"]');\n    var categoryDropdownItem = $('.block-category-select-mob .dropdown-item[data-target=\"' + categorytarget + '\"][data-filter=\"' + categoryFilter + '\"]');\n\n    $(categoryListItem).addClass($activeClass).siblings('[data-filter=\"' + categoryFilter + '\"]').removeClass($activeClass);\n\n    //for mobilefilter\n    if (categoryDropdownItem.length > 1) {\n        // Remove all items except the first one\n        categoryDropdownItem.slice(1).remove();\n\n        // Keep the first item as a selector\n        categoryDropdownItem = categoryDropdownItem.first();\n\n    }\n    var text = $(categoryDropdownItem).text();\n    $('.block-category-select-mob .dropdown-toggle').text(text);\n    $(categoryDropdownItem).addClass($activeClass).siblings('[data-filter=\"' + categoryFilter + '\"]').removeClass($activeClass);\n};\n\n/**\n * Applies a filter to the blocks based on the provided selector.\n *\n * @param {jQuery} selector - The jQuery selector object that contains the target information.\n * @returns {void}\n */\nfunction applyFilterOnBlocks(selector) {\n    var target = selector.data('target');\n    var categoryselector = target + '-blocks';\n    if (target == 'all') {\n        $(`.${SELECTORS.COMMONBLOCKWRAPPER}`).addClass('show').removeClass('hide');\n        $(\".addblock-modal-body .tab-content\").scrollTop('0px');\n    } else {\n        $(`.${categoryselector}`).addClass('show').removeClass('hide').siblings().addClass('hide').removeClass('show');\n        $(\".addblock-modal-body .tab-content\").scrollTop('0px');\n    }\n}\n\nexport {\n    init\n};\n"],"names":["scrollInterval","document","addEventListener","e","selecteditem","target","closest","templatefile","activeclassview","notactiveclassview","userprefclass","SELECTORS","usernotprefclass","addClass","removeClass","activeadvancedtab","edwremuithemeinfo","filtercategory","data","filteritem","applySelectedCategory","applyFilterOnBlocks","on","cardHeight","this","find","height","img","scrollHeight","css","scrolltime","one","setInterval","clearInterval","stopPropagation","preventDefault","categoryFilter","selectedElement","siblings","animate","scrollTop","duration","complete","stop","off","async","blockid","request","methodname","args","action","config","JSON","stringify","response","Ajax","call","parse","error","alert","message","blob","Blob","type","filename","link","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","console","log","form","submitButton","prop","file","files","attr","reader","FileReader","onload","event","fileContent","result","err","status","window","location","reload","remove","errorMessage","before","onerror","readAsText","ready","each","length","hide","category","categorytarget","categoryListItem","categoryDropdownItem","slice","first","text","selector","categoryselector"],"mappings":"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"}