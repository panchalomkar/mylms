// @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later.
define("local_edwiserpagebuilder/homepage_frontpage",["jquery","core/modal_factory","core/templates","core/str","core/modal_events","core/fragment","core/ajax","core/notification","theme_remui/slick"],(function($,ModalFactory,Templates,Str,ModalEvents,Fragment,Ajax,Notification){let SECTIONSELECTOR="";var COURSESECTIONCATEGORY=" .section-courses .category-list .category-item";function generateCourses(instanceid,categoryid,callback){var section=getSectionElement(instanceid);section.find(".courses-slider").removeClass("show"),Ajax.call([{methodname:"local_edwiserpagebuilder_get_frontpage_section_courses_in_category",args:{instanceid:instanceid,categoryid:categoryid},done:function(response){(response=JSON.parse(response)).shadowless=response.sectionproperties.shadowless,response.shadowcolor=response.sectionproperties.shadowcolor,section.find(".courses-slider.slick-initialized.slick-slider").slick("unslick"),section.find(".courses-slider").empty(),section.data("totalcourses",response.totalcourse),section.data("current",0),Templates.render("local_edwiserpagebuilder/courses_cards",response).done((function(html,js){Templates.appendNodeContents(section.find(".courses-slider"),html,js),function(instanceid,options){var defaults={dots:!1,arrows:!0,infinite:!1,speed:500,prevArrow:$("section[data-instance='"+instanceid+"'] .button-container .btn-prev"),nextArrow:$("section[data-instance='"+instanceid+"'] .button-container .btn-next"),rtl:"rtl"==$("html").attr("dir"),slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:800,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};null!==options&&"object"==typeof options&&assign(defaults,options);var section=getSectionElement(instanceid);if(section.find(".available-courses").addClass("d-none"),0!=section.find(".courses-slider .empty-courses-container").length)return;section.find(".courses-slider").slick(defaults).on("setPosition",(function(event,slick){$(section).find(".slick-slide > div").css("height","100%"),slick.$slides.css("height",slick.$slideTrack.height()+"px")})),section.find(".available-courses").removeClass("d-none")}(instanceid,{slidesToShow:3,slidesToScroll:3}),"function"==typeof callback&&callback()})).fail(Notification.exception)},fail:function(ex){Notification.exception(ex)}}])}function getSectionElement(instanceid){return!1!==instanceid&&function(id){this.instanceid=id,SECTIONSELECTOR='section[data-instance="'+id+'"]'}(instanceid),$("body").find(SECTIONSELECTOR)}var assign=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};return{init:function(){$(document).ready((function(){$("body").on("click",COURSESECTIONCATEGORY,(function(){var instanceid=$(this).parents("section[data-instance]").data("instance");$(this).parents("section[data-instance]").find(".courses-slider").removeClass("show"),generateCourses(instanceid,$(this).data("id"),function(){$(this).siblings().removeClass("active"),$(this).addClass("active"),$(this).parents(".category-list").removeClass("show")}.bind(this))}));var instanceid=$(COURSESECTIONCATEGORY).parents("section[data-instance]").data("instance");$(this).parents(COURSESECTIONCATEGORY).find(".courses-slider").removeClass("show");$(COURSESECTIONCATEGORY).length&&generateCourses(instanceid,0,function(){$(COURSESECTIONCATEGORY).siblings().removeClass("active"),$(COURSESECTIONCATEGORY).addClass("active"),$(COURSESECTIONCATEGORY).parents(".category-list").removeClass("show")}.bind(COURSESECTIONCATEGORY))}))}}}));

//# sourceMappingURL=homepage_frontpage.min.js.map