{"version":3,"file":"recent_feedbacks.min.js","sources":["../../src/remuiblck/recent_feedbacks.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/notification',\n    'core/templates'\n], function(\n    $,\n    ajax,\n    Notification,\n    Templates\n) {\n\n    var TEMPLATES = {\n        RECENT_FEEDBACK_LIST: 'local_edwiserpagebuilder/remuiblck/recent_assignments_list'\n    };\n    var PROMISES = {\n        /**\n         * Get recent feedbacks promise call\n         * @return {promise} ajax promise\n         */\n        GET_RECENT_FEEDBACKS: function() {\n            return ajax.call([{\n                methodname: 'local_edwiserpagebuilder_remuiblck_action',\n                args: {\n                    action: \"get_recent_feedbacks\",\n                    config: \"\"\n                }\n            }])[0];\n        }\n    };\n\n    /**\n     * Load recent feedback list\n     * @param {DOM} root block DOM object\n     */\n    var loadRecentFeedbacks = function(root) {\n        PROMISES.GET_RECENT_FEEDBACKS().done(function(response) {\n            response = JSON.parse(response);\n\n            if (response?.recentdata?.recentfeedback)\n            response.recentdata.recentfeedback = Object.values(response.recentdata.recentfeedback);\n\n            var output = Templates.render(TEMPLATES.RECENT_FEEDBACK_LIST, response);\n            output.done(function(html) {\n                $(root).html(html);\n            }).fail(Notification.exception);\n        }).fail(Notification.exception);\n    };\n\n    /**\n     * Load recent feedbacks on initialisation\n     * @param {DOM} root block DOM object\n     */\n    var init = function(root) {\n        $(document).ready(function() {\n            loadRecentFeedbacks(root);\n        });\n    };\n    return {\n        init: init\n    };\n});\n"],"names":["define","$","ajax","Notification","Templates","TEMPLATES","PROMISES","call","methodname","args","action","config","init","root","document","ready","done","response","JSON","parse","_response","recentdata","_response$recentdata","recentfeedback","Object","values","render","html","fail","exception","loadRecentFeedbacks"],"mappings":"AACAA,6DAAO,CACH,SACA,YACA,oBACA,mBACD,SACCC,EACAC,KACAC,aACAC,eAGIC,+BACsB,6DAEtBC,8BAKsB,kBACXJ,KAAKK,KAAK,CAAC,CACdC,WAAY,4CACZC,KAAM,CACFC,OAAQ,uBACRC,OAAQ,OAEZ,UA+BL,CACHC,KANO,SAASC,MAChBZ,EAAEa,UAAUC,OAAM,YAnBI,SAASF,MAC/BP,gCAAgCU,MAAK,SAASC,+DAC1CA,SAAWC,KAAKC,MAAMF,6DAElBG,UAAUC,4CAAVC,qBAAsBC,iBAC1BN,SAASI,WAAWE,eAAiBC,OAAOC,OAAOR,SAASI,WAAWE,iBAE1DnB,UAAUsB,OAAOrB,+BAAgCY,UACvDD,MAAK,SAASW,MACjB1B,EAAEY,MAAMc,KAAKA,SACdC,KAAKzB,aAAa0B,cACtBD,KAAKzB,aAAa0B,WASjBC,CAAoBjB"}