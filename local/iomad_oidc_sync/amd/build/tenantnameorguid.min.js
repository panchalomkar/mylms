define("local_iomad_oidc_sync/tenantnameorguid",["exports","core_form/modalform","core/str","core/toast","core/notification"],(function(_exports,_modalform,_str,_toast,_notification){var e;
/**
   * local_iomad_oidc_sync tenantnameorguid Modal form.
   *
   * @module     local_iomad_oidc_sync
   * @copyright  2024 E-Learn Design
   * @author     Derick Turner
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modalform=(e=_modalform)&&e.__esModule?e:{default:e};const selectors_showTenantorguidform='[data-action="show-tenantorguidform"]';_exports.init=()=>{const showTenantorguidform=document.querySelectorAll(selectors_showTenantorguidform);if(null!==showTenantorguidform)for(let i=0;i<showTenantorguidform.length;i++)showTenantorguidform[i].addEventListener("click",(event=>{event.preventDefault();const title=(0,_str.get_string)("settenantnameorguid","local_iomad_oidc_sync"),form=new _modalform.default({formClass:"local_iomad_oidc_sync\\form\\tenantnameorguid",args:{companyid:showTenantorguidform[i].getAttribute("data-companyid")},modalConfig:{title:title},returnFocus:showTenantorguidform[i]});form.show().then((()=>((0,_toast.addToastRegion)(form.modal.getRoot()[0]),!0))).catch(_notification.exception),form.addEventListener(form.events.FORM_SUBMITTED,(e=>{if(form.modal.getRoot()[0].querySelectorAll(".toast-wrapper").forEach((reg=>reg.remove())),e.detail.result&&(""!=e.detail.returnmessage?(0,_toast.add)((0,_str.get_string)("tenantnameorguid_changed_warning","local_iomad_oidc_sync"),{type:"warning"}):(0,_toast.add)((0,_str.get_string)("tenantnameorguid_changed_success","local_iomad_oidc_sync"),{type:"success"}),e.detail.tenantnameorguid!=e.detail.oldname)){var companyID=e.detail.companyid,approveLink=document.querySelector("[data-approvelink"+companyID+'="'+companyID+'"]'),newapprovalURL=approveLink.getAttribute("href").replace(e.detail.oldname,e.detail.tenantnameorguid);approveLink.setAttribute("href",newapprovalURL),approveLink.setAttribute("style","");var newiconClass=approveLink.innerHTML.replace("dimmed_text","");approveLink.innerHTML=newiconClass;var approveIcon=document.querySelector("[data-approveicon"+companyID+'="'+companyID+'"]'),newapproveIconLink=approveIcon.getAttribute("src").replace("yes","no");approveIcon.setAttribute("src",newapproveIconLink),(0,_str.get_string)("no").then((noString=>{approveIcon.setAttribute("alt",noString),approveIcon.setAttribute("title",noString)})).catch();var enableIcon=document.querySelector("[data-enableicon"+companyID+'="'+companyID+'"]');enableIcon.setAttribute("class","icon fa fa-toggle-off fa-fw  dimmed_text"),(0,_str.get_string)("enable").then((enableString=>{enableIcon.setAttribute("alt",enableString),enableIcon.setAttribute("title",enableString)})).catch(),document.querySelector("[data-enablelink"+companyID+'="'+companyID+'"]').setAttribute("style","pointer-events:none;")}}))}))}}));

//# sourceMappingURL=tenantnameorguid.min.js.map