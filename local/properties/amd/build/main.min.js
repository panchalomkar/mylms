define(["jquery","local_properties/bootbox"],function(s,l){return{init:function(c,o){s(document).ready(function(){s("#page-admin-user-profile-index .nav-tabs li a").click(function(){s("#page-admin-user-profile-index .nav-tabs a").removeClass("active")}),s("#userfields").change(function(){""!=s(this).val()&&this.form.submit()}),s("#id_cancel").click(function(){s(".close").click()}),s("#id_cancelcohort").click(function(){s(".close").click()}),s("#id_cancelcourse").click(function(){s(".close").click()}),s("#id_cancelLP").click(function(){s(".close").click()}),s('.content-categories table a[title="Delete"]').click(function(){var t=s(this).data("id"),e=s(this).data("action"),n=s(this).data("sesskey"),a=s(this).data("count");l.confirm(c.replace("{$a}",a),function(a){var i=a;s.ajax({type:"POST",url:M.cfg.wwwroot+"/local/properties/index.php",data:{action:e,id:t,confirm:i,sesskey:n},dataType:"json",success:function(a){window.location.href=a,location.reload()}})})}),s('.content-categories h2 a[title="Delete"]').click(function(){var t=s(this).data("id"),e=s(this).data("action"),n=s(this).data("sesskey");l.confirm(o,function(a){var i=a;s.ajax({type:"POST",url:M.cfg.wwwroot+"/local/properties/index.php",data:{action:e,id:t,confirm:i,sesskey:n},dataType:"json",success:function(a){window.location.href=a,location.reload()}})})}),s("#cohortfields").change(function(){""!=s(this).val()&&this.form.submit()}),s("#coursefields").change(function(){""!=s(this).val()&&this.form.submit()}),s("#lpfields").change(function(){""!=s(this).val()&&this.form.submit()}),s(".categories-content a.add").click(function(){var a=s(this).data("catid");s("#myModalcourse").find("form").attr("action");s(".urlclass").val(a)});var a=window.location.href,i=a.indexOf("#"),t=a.substring(a.indexOf("#")+1);"-1"!=i&&"user-tab"!=t?""==t?(s('.tbs li a[href="#user_tab"]').addClass("active"),s("#learning-paths-container .tab-content div#user_tab").addClass("active in")):""!=t&&(s('.tbs li a[href="#'+t+'"]').addClass("active"),s("#learning-paths-container .tab-content").removeClass(" active in"),s("#learning-paths-container #"+t).addClass("active in")):(s('.tbs li a[href="#user_tab"]').addClass("active"),s("#learning-paths-container .tab-content div#user_tab").addClass("active in"))})}}});