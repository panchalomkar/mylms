/**
 * @module     theme_remui/validatejson
 * @copyright (c) 2023 WisdmLabs (https://wisdmlabs.com/)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_remui/validatejson",["jquery"],(function($){var _scrollTopEle=!1;function isValidJSONString(_str){try{JSON.parse(_str)}catch(e){return!1}return!0}const toggleError=(_fieldele,action)=>{action?$(_fieldele).css("border-color","red"):$(_fieldele).css("border-color","#ced4da")},validateMenuField=function(_fieldele){let _updateScrollTopEle=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var _content=$(_fieldele).val(),_validated=!0;return""===_content&&null===_content&&null==_content||(isValidJSONString(_content)?toggleError(_fieldele,!1):(_validated&&_updateScrollTopEle&&(_scrollTopEle=_fieldele),_validated=!1,toggleError(_fieldele,!0))),_validated},validateMenuFields=_elemIndex=>{for(var _fieldele="#id_s_theme_remui_footercolumn"+_elemIndex+"menu",_validated=!0,i=4;i>=1;i--)_validated=validateMenuField(_fieldele,!0);var container=$(".settingsform");return _validated||($([document.documentElement,document.body]).animate({scrollTop:$(_scrollTopEle).offset().top-container.offset().top+container.scrollTop()},500),_scrollTopEle=!1),_validated};return{init:function(){$("#id_s_theme_remui_footercolumn1menu").on("focusout",(function(){validateMenuField("#id_s_theme_remui_footercolumn1menu")})),$("#id_s_theme_remui_footercolumn2menu").on("focusout",(function(){validateMenuField("#id_s_theme_remui_footercolumn2menu")})),$("#id_s_theme_remui_footercolumn3menu").on("focusout",(function(){validateMenuField("#id_s_theme_remui_footercolumn3menu")})),$("#id_s_theme_remui_footercolumn4menu").on("focusout",(function(){validateMenuField("#id_s_theme_remui_footercolumn4menu")}));$("#adminsettings .settingsform .btn[type='submit']").on("click",(function(e){var linktofootersetting=$('a[href="#theme_remui_footer"]');if(linktofootersetting.hasClass("active")&&linktofootersetting.text()==M.util.get_string("footersettings","theme_remui")&&linktofootersetting.attr("aria-selected")){e.preventDefault();for(var _validatallfields=[],i=1;i<=4;i++)"none"!==$("#admin-footercolumn"+i+"menu").css("display")&&(_validatallfields[i]=validateMenuFields(i));_validatallfields.every((val=>!0===val))&&$("#adminsettings").submit()}}))}}}));

//# sourceMappingURL=validatejson.min.js.map