define("theme_remui/customizer/footer",["exports","jquery","core/templates","theme_remui/customizer/utils"],(function(_exports,_jquery,_templates,_utils){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Theme customizer footer js
   * @copyright (c) 2023 WisdmLabs (https://wisdmlabs.com/) <support@wisdmlabs.com>
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   * @author    Yogesh Shirsath
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_jquery=_interopRequireDefault(_jquery),_templates=_interopRequireDefault(_templates),_utils=_interopRequireDefault(_utils);var SELECTOR_BACKGROUNDCOLOR='[name="footer-background-color"]',SELECTOR_TEXTCOLOR='[name="footer-text-color"]',SELECTOR_LINKTEXT='[name="footer-link-text"]',SELECTOR_LINKHOVERTEXT='[name="footer-link-hover-text"]',SELECTOR_COLUMN="footercolumn",SELECTOR_COLUMNSIZE="footercolumnsize",SELECTOR_COLUMNSHEADING="#heading_footer-advance-column",SELECTOR_MENULIST=".footer-menu-list",SELECTOR_SHOWLOGO='[name="footershowlogo"]',SELECTOR_TERMSANDCONDITIONSSHOW='[name="footertermsandconditionsshow"]',SELECTOR_TERMSANDCONDITIONS='[name="footertermsandconditions"]',SELECTOR_PRIVACYPOLICYSHOW='[name="footerprivacypolicyshow"]',SELECTOR_PRIVACYPOLICY='[name="footerprivacypolicy"]',SELECTOR_COPYRIGHTSHOW='[name="footercopyrightsshow"]',SELECTOR_COPYRIGHT='[name="footercopyrights"]',SELECTOR_SETTINGITEM=".setting-item",SELECTOR_DNONE="d-none",SELECTOR_DIVIDERCOLOR='[name="footer-divider-color"]',SELECTOR_ICONDEFAULTCOLOR='[name="footer-icon-color"]',SELECTOR_ICONHOVERCOLOR='[name="footer-icon-hover-color"]',SELECTOR_FOOTERFONTFAMILY='[name="footerfontfamily"]',SELECTOR_FOOTERFONTWEIGHT='[name="footerfontweight"]',SELECTOR_FOOTERTEXTTRANSFORM='[name="footerfonttext-transform"]',SELECTOR_FOOTERFONTSIZE='[name="footerfontsize"]',SELECTOR_FOOTERFONTLINEHEIGHT='[name="footerfontlineheight"]',SELECTOR_FOOTERFONTLTRSPACE='[name="footerfontltrspace"]',SELECTOR_FOOTERCOLUMNTITLEFONTFAMILY='[name="footer-columntitle-fontfamily"]',SELECTOR_FOOTERCOLUMMTITLEFONTSIZE='[name="footer-columntitle-fontsize"]',SELECTOR_FOOTERCOLUMNTITLEFONTWEIGHT='[name="footer-columntitle-fontweight"]',SELECTOR_FOOTERCOLUMMTITLETEXTTRANSFORM='[name="footer-columntitle-textransform"]',SELECTOR_FOOTERCOLUMMTITLELINEHEIGHT='[name="footer-columntitle-lineheight"]',SELECTOR_FOOTERCOLUMMTITLELTRSPACE='[name="footer-columntitle-ltrspace"]',SELECTOR_FOOTERCOLUMMTITLECOLOR='[name="footer-columntitle-color"]',SELECTOR_USEHEADERLOGO='[name="useheaderlogo"]',SELECTOR_SECONDARYFOOTERLOGO='[name="secondaryfooterlogo"]',SELECTOR_SECONDARYFOOTERLOGODARKMODE='[name="secondaryfooterlogodarkmode"]',SELECTOR_FOOTERLOGOCOLOR='[name="footer-logo-color"]',SELECTOR_POWEREDBY='[name="poweredbyedwiser"]',SELECTOR_PRIVACYPOLICYNEWTAB="[name=privacypolicynewtab]",SELECTOR_TERMSANDCONDITIONSNEWTAB="[name=termsandconditionewtab]",SELECTOR_SOCIALICONS='\n        [name="facebooksetting"],\n        [name="twittersetting"],\n        [name="linkedinsetting"],\n        [name="youtubesetting"],\n        [name="gplussetting"],\n        [name="instagramsetting"],\n        [name="pinterestsetting"],\n        [name="quorasetting"],\n        [name="whatsappsetting"],\n        [name="telegramsetting"]\n    ',SELECTOR_HEADER={LOGOORSITENAME:'[name="logoorsitename"]',LOGO:'[name="logo"]',LOGOMINI:'[name="logomini"]',ICON:'[name="siteicon"]',DARKMODELOGO:'[name="darkmodelogo"]',DARKMODELOGOMINI:'[name="darkmodelogomini"]'},CONSTANTS_NIGHTEYESTATE="nighteyewState";let socialList={facebook:{class:"social-facebook",icon:"icon edw-icon edw-icon-Facebook",title:M.util.get_string("follometext","theme_remui","facebook")},twitter:{class:"social-twitter",icon:"icon edw-icon edw-icon-Twitter",title:M.util.get_string("follometext","theme_remui","twitter")},linkedin:{class:"social-linkedin",icon:"icon edw-icon edw-icon-Linkedin",title:M.util.get_string("follometext","theme_remui","linkedin")},gplus:{class:"social-google-plus",icon:"icon edw-icon edw-icon-Gplus",title:M.util.get_string("follometext","theme_remui","gplus")},youtube:{class:"social-youtube",icon:"icon fa fa-youtube",title:M.util.get_string("follometext","theme_remui","youtube")},instagram:{class:"social-instagram",icon:"icon fa fa-instagram",title:M.util.get_string("follometext","theme_remui","instagram")},pinterest:{class:"social-pinterest",icon:"icon fa fa-pinterest",title:M.util.get_string("follometext","theme_remui","pinterest")},quora:{class:"social-quora",icon:"icon fa fa-quora",title:M.util.get_string("follometext","theme_remui","quore")},whatsapp:{class:"social-whatsapp",icon:"icon fa fa-whatsapp",title:M.util.get_string("follometext","theme_remui","whatsapp")},telegram:{class:"social-telegram",icon:"icon fa fa-telegram",title:M.util.get_string("follometext","theme_remui","telegram")}};function resize(event){let drag={};drag.iframeDocument=_utils.default.getDocument(),drag.column=(0,_jquery.default)(event.target.parentElement),drag.index=(0,_jquery.default)(drag.column).index(),drag.sibling=(0,_jquery.default)(drag.column).next(),drag.parent=(0,_jquery.default)(drag.column).closest(".resizer"),drag.widths=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).val().split(","),(0,_jquery.default)(drag.column).closest(".resizer").addClass("resizing"),"touchstart"===event.type?drag.startX=event.touches[0].clientX:drag.startX=event.clientX,drag.colStartWidth=(0,_jquery.default)(drag.column).outerWidth(),drag.sibStartWidth=(0,_jquery.default)(drag.sibling).outerWidth(),drag.parentWidth=(0,_jquery.default)(drag.parent).outerWidth(),drag.move=evt=>{let clientX;clientX="touchmove"===evt.type?evt.touches[0].clientX:evt.clientX;let newColWidth=drag.colStartWidth+clientX-drag.startX,newSibWidth=drag.sibStartWidth-clientX+drag.startX,percent=function(val,total){return val/total*100},colWidthPercent=parseFloat(percent(newColWidth,drag.parentWidth)).toFixed(1);if(colWidthPercent<15)return;let sibWidthPercent=parseFloat(percent(newSibWidth,drag.parentWidth)).toFixed(1);sibWidthPercent<15||((0,_jquery.default)(drag.column).css("width","".concat(colWidthPercent,"%")).find("label").text("".concat(colWidthPercent,"%")),(0,_jquery.default)(drag.iframeDocument).find("#footer-column-".concat(drag.index+1)).css("flex","0 0 ".concat(colWidthPercent,"%")),drag.widths[drag.index]=colWidthPercent,(0,_jquery.default)(drag.sibling).css("width","".concat(sibWidthPercent,"%")).find("label").text("".concat(sibWidthPercent,"%")),(0,_jquery.default)(drag.iframeDocument).find("#footer-column-".concat(drag.index+2)).css("flex","0 0 ".concat(sibWidthPercent,"%")),drag.widths[drag.index+1]=sibWidthPercent)},drag.stop=()=>{window.removeEventListener("mouseup",drag.stop),window.removeEventListener("touchend",drag.stop),window.removeEventListener("mousemove",drag.move),window.removeEventListener("touchmove",drag.move),(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).val(drag.widths.join(",")),(0,_jquery.default)(drag.column).closest(".resizer").removeClass("resizing")},window.addEventListener("mouseup",drag.stop),window.addEventListener("touchend",drag.stop),window.addEventListener("mousemove",drag.move),window.addEventListener("touchmove",drag.move)}function isFooterPrimaryVisible(){let type,content,hasSocial,hasContent,hasMenu,widgetSocials,visible=!1,emptySocial=!0,columns=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN,'"]')).val(),iframeDocument=_utils.default.getDocument(),socials=[];(0,_jquery.default)(SELECTOR_SOCIALICONS).each((function(){""!=(0,_jquery.default)(this).val()&&(emptySocial=!1),socials[(0,_jquery.default)(this).attr("name").replace("setting","")]=(0,_jquery.default)(this).val()}));for(let i=1;i<=columns;i++)switch(type=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN+i,'type"]')).val(),hasSocial=hasContent=hasMenu=!1,type){case"social":if(emptySocial)break;if(widgetSocials=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN+i,'social"]')).val(),0==widgetSocials.length)break;widgetSocials.forEach((social=>{""!=socials[social]&&(hasSocial=visible=!0)}));break;case"customhtml":content=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN+i,'customhtml"]')).val(),""===(html=content,(0,_jquery.default)("<div>".concat(html,"</div>")).text().trim())&&-1===content.indexOf("img")||(hasContent=visible=!0);break;case"menu":"[]"!=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN+i,'menu"]')).val()&&(hasMenu=visible=!0)}var html;(0,_jquery.default)(iframeDocument).find("#page-footer .footer-primary").toggleClass("d-none",!visible)}function toggleType(index){let type=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN+index,'type"]')).val(),showSocial=(0,_jquery.default)('[name="socialmediaiconcol'.concat(index,'"]')).is(":checked"),iframeDocument=_utils.default.getDocument();(0,_jquery.default)('[name="footercolumn'.concat(index,'customhtml"]')).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,"customhtml"!=type),(0,_jquery.default)('[name="footercolumn'.concat(index,'menu"]')).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,"customhtml"==type),(0,_jquery.default)('[name="socialmediaiconcol'.concat(index,'"]')).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,"menu"==type),(0,_jquery.default)('[name="footercolumn'+index+'social"]').closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,"menu"==type||!showSocial),(0,_jquery.default)(".footercolumn"+index+"social-note").closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,"menu"==type||!showSocial),(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index," .custom-html")).toggleClass(SELECTOR_DNONE,"customhtml"!=type),(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index," .footer-menu")).toggleClass(SELECTOR_DNONE,"menu"!=type),(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index)).removeClass("column-type-customhtml column-type-social column-type-menu").addClass("column-type-"+type)}function titleChange(index){let title=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN).concat(index,'title"]')).val();(0,_jquery.default)(_utils.default.getDocument()).find("#footer-column-".concat(index," .custom-html .ftr-column-title")).text(title),(0,_jquery.default)(_utils.default.getDocument()).find("#footer-column-".concat(index," .footer-menu .ftr-column-title")).text(title)}function contentChange(index){let content=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN).concat(index,'customhtml"]')).val();(0,_jquery.default)(_utils.default.getDocument()).find("#footer-column-".concat(index," .custom-html .section-html-content")).html(content)}function footerColors(){let backgroundColor=(0,_jquery.default)(SELECTOR_BACKGROUNDCOLOR).spectrum("get").toString(),textColor=(0,_jquery.default)(SELECTOR_TEXTCOLOR).spectrum("get").toString(),linkText=(0,_jquery.default)(SELECTOR_LINKTEXT).spectrum("get").toString(),linkHoverText=(0,_jquery.default)(SELECTOR_LINKHOVERTEXT).spectrum("get").toString(),dividerColor=(0,_jquery.default)(SELECTOR_DIVIDERCOLOR).spectrum("get").toString(),icondefaultColor=(0,_jquery.default)(SELECTOR_ICONDEFAULTCOLOR).spectrum("get").toString(),iconhoverColor=(0,_jquery.default)(SELECTOR_ICONHOVERCOLOR).spectrum("get").toString(),footercolumntitlecolor=(0,_jquery.default)(SELECTOR_FOOTERCOLUMMTITLECOLOR).spectrum("get").toString(),footerlogocolor=(0,_jquery.default)(SELECTOR_FOOTERLOGOCOLOR).spectrum("get").toString(),content="\n            #page-footer {\n                background: ".concat(backgroundColor," !important;\n            }\n            #page-footer .h1,\n            #page-footer .h2,\n            #page-footer .h3,\n            #page-footer .h4,\n            #page-footer .h5,\n            #page-footer .h6,\n            #page-footer h1,\n            #page-footer h2,\n            #page-footer h3,\n            #page-footer h4,\n            #page-footer h5,\n            #page-footer h6,\n            #page-footer p,\n            #page-footer .footer-content-debugging-wrapper,.section-html-content,[id $=reactive-debugpanel] {\n                color: ").concat(textColor," !important;\n            }\n            #page-footer .footer-mainsection-wrapper a,\n            #page-footer .footer-secondarysection-wrapper a,\n            .purgecaches a {\n                color: ").concat(linkText," !important;\n            }\n            #page-footer .footer-mainsection-wrapper a:hover,\n            #page-footer .footer-secondarysection-wrapper a:hover,\n            .purgecaches a:hover {\n                color: ").concat(linkHoverText," !important;\n            }\n            #page-footer hr{\n                border-color: ").concat(dividerColor," !important;\n            }\n            #page-footer .footer-mainsection-wrapper .edw-icon,\n            #page-footer .footer-mainsection-wrapper i {\n                color: ").concat(icondefaultColor," !important;\n            }\n            #page-footer .footer-mainsection-wrapper .edw-icon:hover,#page-footer .footer-mainsection-wrapper i:hover {\n                color: ").concat(iconhoverColor," !important;\n            }\n            #page-footer .ftr-column-title {\n                color: ").concat(footercolumntitlecolor," !important;\n            }\n            #page-footer .navbar-brand-logo {\n                color: ").concat(footerlogocolor," !important;\n            }\n        ");_utils.default.putStyle("customizer-footer-colors",content)}function footerFonts(){let fontfamily=(0,_jquery.default)(SELECTOR_FOOTERFONTFAMILY).val(),fontweight=(0,_jquery.default)(SELECTOR_FOOTERFONTWEIGHT).val(),texttransformvalue=(0,_jquery.default)(SELECTOR_FOOTERTEXTTRANSFORM).val(),fontsize=(0,_jquery.default)(SELECTOR_FOOTERFONTSIZE).val();""!==fontsize&&(fontsize="font-size: ".concat(fontsize,"rem !important;"));let footerfontlineheight=(0,_jquery.default)(SELECTOR_FOOTERFONTLINEHEIGHT).val();footerfontlineheight&&(footerfontlineheight="line-height: ".concat(footerfontlineheight,"rem !important;"));let footerfontltrspace=(0,_jquery.default)(SELECTOR_FOOTERFONTLTRSPACE).val();footerfontltrspace&&(footerfontltrspace="letter-spacing: ".concat(footerfontltrspace,"px !important;"));let columntitlefontfamily=(0,_jquery.default)(SELECTOR_FOOTERCOLUMNTITLEFONTFAMILY).val(),columntitlefontweight=(0,_jquery.default)(SELECTOR_FOOTERCOLUMNTITLEFONTWEIGHT).val(),columntitletexttransformvalue=(0,_jquery.default)(SELECTOR_FOOTERCOLUMMTITLETEXTTRANSFORM).val(),columntitlefontsize=(0,_jquery.default)(SELECTOR_FOOTERCOLUMMTITLEFONTSIZE).val();columntitlefontsize&&(columntitlefontsize="font-size:".concat(columntitlefontsize,"rem !important;"));let columntitlefontlineheight=(0,_jquery.default)(SELECTOR_FOOTERCOLUMMTITLELINEHEIGHT).val();columntitlefontlineheight&&(columntitlefontlineheight="line-height: ".concat(columntitlefontlineheight,"rem !important;"));let columntitlefontltrspace=(0,_jquery.default)(SELECTOR_FOOTERCOLUMMTITLELTRSPACE).val();columntitlefontltrspace&&(columntitlefontltrspace="letter-spacing: ".concat(columntitlefontltrspace,"px !important;"));var fontcontent="";"inherit"==fontfamily.toLowerCase()?fontcontent="inherit":(fontcontent=fontfamily,_utils.default.loadFont(fontcontent));var fontTitleContent="";"inherit"==columntitlefontfamily.toLowerCase()?fontTitleContent="inherit":(fontTitleContent=columntitlefontfamily,_utils.default.loadFont(fontTitleContent));let content="\n            #page-footer,\n            #page-footer .h1,\n            #page-footer .h2,\n            #page-footer .h3,\n            #page-footer .h4,\n            #page-footer .h5,\n            #page-footer .h6,\n            #page-footer h1,\n            #page-footer h2,\n            #page-footer h3,\n            #page-footer h4,\n            #page-footer h5,\n            #page-footer .h-regular-6,\n            #page-footer p,\n            #page-footer a,\n            #page-footer .footer-content-debugging-wrapper {\n                ".concat(fontsize,"\n                font-weight: ").concat(fontweight," !important;\n                ").concat(footerfontlineheight,"\n                ").concat(footerfontltrspace,"\n\n            }\n            #page-footer {\n                font-family: ").concat(fontcontent," !important;\n                text-transform:").concat(texttransformvalue," !important;\n            }\n            .ftr-column-title {\n                font-family: ").concat(fontTitleContent," !important;\n                ").concat(columntitlefontsize,"\n                font-weight: ").concat(columntitlefontweight," !important;\n                ").concat(columntitlefontlineheight,"\n                text-transform: ").concat(columntitletexttransformvalue," !important;\n                ").concat(columntitlefontltrspace,"\n            }\n        ");_utils.default.putStyle("customizer-footer-fonts",content)}function columnSizeChange(){let widths=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).val().split(","),iframeDocument=_utils.default.getDocument();widths.forEach(((width,index)=>{(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index+1)).css("flex","0 0 ".concat(width,"%"))}))}function generateColumnSize(){let numberOfColumns=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN,'"]')).val(),widths=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).val().split(",").slice(0,numberOfColumns),parent=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).closest(".felement");!function(){let columns=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN,'"]')).val(),iframeDocument=_utils.default.getDocument(),i=1;for(;i<=columns;i++)(0,_jquery.default)(SELECTOR_COLUMNSHEADING+i).show(),(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(i)).removeClass(SELECTOR_DNONE);for(;i<=4;i++)(0,_jquery.default)(SELECTOR_COLUMNSHEADING+i).hide(),(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(i)).addClass(SELECTOR_DNONE)}(),_templates.default.render("theme_remui/customizer/footer_widget_size",{widget:widths}).done((function(html,js){parent.find(".resizer-wrapper").remove(),_templates.default.appendNodeContents(parent,html,js)}))}function socialSelectionChanges(index){let link,additionalClass,selection=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN).concat(index,'social"]')).val(),iframeDocument=_utils.default.getDocument();(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index," .social-links a")).remove(),selection.forEach((name=>{link=(0,_jquery.default)('[name="'.concat(name,'setting"]')).val(),additionalClass=""==link?SELECTOR_DNONE:"",(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index," .social-links")).append('<a href="'.concat(link,'" class="').concat(socialList[name].class," ").concat(additionalClass,'" text-decoration-none" title="').concat(socialList[name].title,'"><i class="').concat(socialList[name].icon,'"></i></a>'))}))}function menuChange(index){let menu=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN).concat(index,'menu"]')).val(),iframeDocument=_utils.default.getDocument();try{menu=JSON.parse(menu)}catch(exception){menu=[]}(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index," ").concat(SELECTOR_MENULIST)).html(""),menu.forEach((menuitem=>{(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index," ").concat(SELECTOR_MENULIST)).append('<a target="_blank" href="'.concat(menuitem.address,'">').concat(menuitem.text,"</a>"))}))}function useDifferentLogo(){if(!(0,_jquery.default)(SELECTOR_SHOWLOGO).is(":checked"))return;let itemid,iframeDocument=_utils.default.getDocument(),useHeader=(0,_jquery.default)(SELECTOR_USEHEADERLOGO).is(":checked");if((0,_jquery.default)(SELECTOR_SECONDARYFOOTERLOGO).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,useHeader),(0,_jquery.default)(SELECTOR_SECONDARYFOOTERLOGODARKMODE).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,useHeader),(0,_jquery.default)(SELECTOR_FOOTERLOGOCOLOR).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!useHeader),useHeader)switch((0,_jquery.default)(SELECTOR_HEADER.LOGOORSITENAME).val()){case"logo":itemid=(0,_jquery.default)(SELECTOR_HEADER.LOGO).val(),1==localStorage.getItem(CONSTANTS_NIGHTEYESTATE)&&(itemid=(0,_jquery.default)(SELECTOR_HEADER.DARKMODELOGO).val()),_utils.default.getFileURL(itemid).done((function(response){""==response&&(response=M.cfg.wwwroot+"/theme/remui/pix/logo.png"),(0,_jquery.default)(iframeDocument).find("#page-footer .navbar-logo-footer-wrapper .navbar-brand").html('<img src="'.concat(response,'" class="navbar-brand-logo logo"></img>'))}));break;case"logomini":itemid=(0,_jquery.default)(SELECTOR_HEADER.LOGOMINI).val(),1==localStorage.getItem(CONSTANTS_NIGHTEYESTATE)&&(itemid=(0,_jquery.default)(SELECTOR_HEADER.DARKMODELOGOMINI).val()),_utils.default.getFileURL(itemid).done((function(response){""==response&&(response=M.cfg.wwwroot+"/theme/remui/pix/logomini.png"),(0,_jquery.default)(iframeDocument).find("#page-footer .navbar-logo-footer-wrapper .navbar-brand").html('<img src="'.concat(response,'" class="navbar-brand-logo logomini"></img>'))}));break;case"icononly":(0,_jquery.default)(iframeDocument).find("#page-footer .navbar-logo-footer-wrapper .navbar-brand").html('<span class="navbar-brand-logo icononly"><i class="fa fa-'.concat((0,_jquery.default)(SELECTOR_HEADER.ICON).val(),'"></i></span>'));break;case"iconsitename":(0,_jquery.default)(iframeDocument).find("#page-footer .navbar-logo-footer-wrapper .navbar-brand").html('<span class="navbar-brand-logo font-weight-bolder iconsitename">\n                    <i class="fa fa-'.concat((0,_jquery.default)(SELECTOR_HEADER.ICON).val(),'"></i>\n                    &nbsp;\n                    ').concat((0,_jquery.default)("#customizer").data("sitename"),"\n                </span>"))}else itemid=(0,_jquery.default)(SELECTOR_SECONDARYFOOTERLOGO).val(),1==localStorage.getItem(CONSTANTS_NIGHTEYESTATE)&&(itemid=(0,_jquery.default)(SELECTOR_SECONDARYFOOTERLOGODARKMODE).val()),_utils.default.getFileURL(itemid).done((function(response){""==response&&(response=M.cfg.wwwroot+"/theme/remui/pix/logo.png"),(0,_jquery.default)(iframeDocument).find("#page-footer .footer-diff-logo .navbar-brand-logo").attr("src",response)}));(0,_jquery.default)(iframeDocument).find(".footer-diff-logo").toggleClass(SELECTOR_DNONE,useHeader),(0,_jquery.default)(iframeDocument).find(".navbar-logo-footer-wrapper").toggleClass(SELECTOR_DNONE,!useHeader)}function showLogo(){let iframeDocument=_utils.default.getDocument(),show=(0,_jquery.default)(SELECTOR_SHOWLOGO).is(":checked");(0,_jquery.default)(iframeDocument).find(".secondary-footer-logo").toggleClass(SELECTOR_DNONE,!show),(0,_jquery.default)("".concat(SELECTOR_SECONDARYFOOTERLOGO,", ").concat(SELECTOR_USEHEADERLOGO,", ").concat(SELECTOR_FOOTERLOGOCOLOR,", ").concat(SELECTOR_SECONDARYFOOTERLOGODARKMODE)).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!show),show&&useDifferentLogo()}function termsAndConditionsShow(){let iframeDocument=_utils.default.getDocument(),show=(0,_jquery.default)(SELECTOR_TERMSANDCONDITIONSSHOW).is(":checked");(0,_jquery.default)(iframeDocument).find(".footer-terms-and-conditions").toggleClass(SELECTOR_DNONE,!show).toggleClass("d-block",show),(0,_jquery.default)(SELECTOR_TERMSANDCONDITIONS).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!show),(0,_jquery.default)(SELECTOR_TERMSANDCONDITIONSNEWTAB).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!show)}function termsAndConditions(){let iframeDocument=_utils.default.getDocument(),termsAndConditions=(0,_jquery.default)(SELECTOR_TERMSANDCONDITIONS).val();(0,_jquery.default)(iframeDocument).find(".footer-terms-and-conditions").attr("href",termsAndConditions)}function privacyPolicyShow(){let iframeDocument=_utils.default.getDocument(),show=(0,_jquery.default)(SELECTOR_PRIVACYPOLICYSHOW).is(":checked");(0,_jquery.default)(iframeDocument).find(".footer-privacy-policy").toggleClass(SELECTOR_DNONE,!show).toggleClass("d-block",show),(0,_jquery.default)(SELECTOR_PRIVACYPOLICY).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!show),(0,_jquery.default)(SELECTOR_PRIVACYPOLICYNEWTAB).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!show)}function privacyPolicy(){let iframeDocument=_utils.default.getDocument(),privacyPolicy=(0,_jquery.default)(SELECTOR_PRIVACYPOLICY).val();(0,_jquery.default)(iframeDocument).find(".footer-privacy-policy").attr("href",privacyPolicy)}function copyrightShow(){let iframeDocument=_utils.default.getDocument(),show=(0,_jquery.default)(SELECTOR_COPYRIGHTSHOW).is(":checked");(0,_jquery.default)(iframeDocument).find(".secondary-footer-copyright").toggleClass(SELECTOR_DNONE,!show),(0,_jquery.default)(SELECTOR_COPYRIGHT).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!show)}function togglePoweredBy(){const coreHTML="\n        ".concat(M.util.get_string("poweredby","theme_remui"),' <a href="https://moodle.com">Moodle</a>\n    '),edwHTML="\n        ".concat(M.util.get_string("poweredby","theme_remui"),'\n        <a href="https://edwiser.org/remui/" rel="nofollow" target="_blank">\n            Edwiser RemUI\n        </a>\n    ');let iframeDocument=_utils.default.getDocument();(0,_jquery.default)(SELECTOR_POWEREDBY).is(":checked")?(0,_jquery.default)(iframeDocument).find(".footer-poweredby").empty().append(edwHTML):(0,_jquery.default)(iframeDocument).find(".footer-poweredby").empty().append(coreHTML)}function copyright(){let iframeDocument=_utils.default.getDocument(),copyright=(0,_jquery.default)(SELECTOR_COPYRIGHT).val().replaceAll("[site]",(0,_jquery.default)(iframeDocument).find(".secondary-footer-copyright").data("site")).replaceAll("[year]",(new Date).getFullYear());(0,_jquery.default)(iframeDocument).find(".secondary-footer-copyright").html('<p class=" mb-0">'+copyright+"</p>")}var _default={init:function(){generateColumnSize(),showLogo(),(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).hide(),(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).on("change",(function(){let widths=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).val().split(",");(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN,'"]')).val()!=widths.length&&(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN,'"]')).val(widths.length),generateColumnSize(),columnSizeChange()})),(0,_jquery.default)("body").on("mousedown touchstart","#fitem_id_".concat(SELECTOR_COLUMNSIZE," .resizer .resize-x-handle"),resize),(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN,'"]')).on("change",(function(){let width=[];for(let i=1;i<=(0,_jquery.default)(this).val();i++)width.push((100/(0,_jquery.default)(this).val()).toFixed(0));(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMNSIZE,'"]')).val(width.join(",")),generateColumnSize(),columnSizeChange(),isFooterPrimaryVisible()})),(0,_jquery.default)("\n            ".concat(SELECTOR_BACKGROUNDCOLOR,",\n            ").concat(SELECTOR_TEXTCOLOR,",\n            ").concat(SELECTOR_LINKTEXT,",\n            ").concat(SELECTOR_LINKHOVERTEXT,",\n            ").concat(SELECTOR_DIVIDERCOLOR,",\n            ").concat(SELECTOR_ICONDEFAULTCOLOR,",\n            ").concat(SELECTOR_ICONHOVERCOLOR,",\n            ").concat(SELECTOR_FOOTERCOLUMMTITLECOLOR,",\n            ").concat(SELECTOR_FOOTERLOGOCOLOR,"\n        ")).on("color.changed",footerColors),(0,_jquery.default)("\n            ".concat(SELECTOR_FOOTERFONTFAMILY,",\n            ").concat(SELECTOR_FOOTERFONTWEIGHT,",\n            ").concat(SELECTOR_FOOTERTEXTTRANSFORM,",\n            ").concat(SELECTOR_FOOTERCOLUMNTITLEFONTFAMILY,",\n            ").concat(SELECTOR_FOOTERCOLUMNTITLEFONTWEIGHT,",\n            ").concat(SELECTOR_FOOTERCOLUMMTITLETEXTTRANSFORM,"\n        ")).on("change",footerFonts),(0,_jquery.default)("\n            ".concat(SELECTOR_FOOTERFONTSIZE,",\n            ").concat(SELECTOR_FOOTERFONTLTRSPACE,",\n            ").concat(SELECTOR_FOOTERFONTLINEHEIGHT,",\n            ").concat(SELECTOR_FOOTERCOLUMMTITLEFONTSIZE,",\n            ").concat(SELECTOR_FOOTERCOLUMMTITLELINEHEIGHT,",\n            ").concat(SELECTOR_FOOTERCOLUMMTITLELTRSPACE,"\n        ")).on("input",footerFonts),(0,_jquery.default)(SELECTOR_SOCIALICONS).on("input",(function(){!function(name,link){name="gplus"==(name=name.replace("setting",""))?"social-google-plus":"social-"+name;let iframeDocument=_utils.default.getDocument();(0,_jquery.default)(iframeDocument).find("#page-footer .social-links .".concat(name)).attr("href",link).toggleClass(SELECTOR_DNONE,""==link)}((0,_jquery.default)(this).attr("name"),(0,_jquery.default)(this).val()),isFooterPrimaryVisible()})),(0,_jquery.default)('[name*="'.concat(SELECTOR_COLUMN,'"][name*="type"]')).on("change",(function(){toggleType((0,_jquery.default)(this).attr("name").replace(SELECTOR_COLUMN,"").replace("type","")),isFooterPrimaryVisible()})),(0,_jquery.default)('[name*="'.concat(SELECTOR_COLUMN,'"][name*="title"]')).on("input",(function(){titleChange((0,_jquery.default)(this).attr("name").replace(SELECTOR_COLUMN,"").replace("title",""))})),(0,_jquery.default)('[name*="'.concat(SELECTOR_COLUMN,'"][name*="customhtml"]')).on("change",(function(){contentChange((0,_jquery.default)(this).attr("name").replace(SELECTOR_COLUMN,"").replace("customhtml","")),isFooterPrimaryVisible()})),(0,_jquery.default)('[name*="'.concat(SELECTOR_COLUMN,'"][name*="menu"]:not([name*="orientation"])')).on("change",(function(){menuChange((0,_jquery.default)(this).attr("name").replace(SELECTOR_COLUMN,"").replace("menu","")),isFooterPrimaryVisible()})),(0,_jquery.default)('[name*="'.concat(SELECTOR_COLUMN,'"][name*="menuorientation"]')).on("change",(function(){!function(index){let orientation=(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN).concat(index,'menuorientation"]')).val(),iframeDocument=_utils.default.getDocument();(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index," .footer-menu")).removeClass("menu-vertical menu-horizontal").addClass("menu-"+orientation)}((0,_jquery.default)(this).attr("name").replace(SELECTOR_COLUMN,"").replace("menuorientation",""))})),(0,_jquery.default)('[name*="'.concat(SELECTOR_COLUMN,'"][name*="social"]')).on("change",(function(){socialSelectionChanges((0,_jquery.default)(this).attr("name").replace(SELECTOR_COLUMN,"").replace("social","")),isFooterPrimaryVisible()})),(0,_jquery.default)('[name*="socialmediaiconcol"]').on("change",(function(){let index=(0,_jquery.default)(this).attr("name").replace(SELECTOR_COLUMN,"").replace("socialmediaiconcol",""),iframeDocument=_utils.default.getDocument(),show=(0,_jquery.default)(this).is(":checked");(0,_jquery.default)('[name="'.concat(SELECTOR_COLUMN).concat(index,'social"]')).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!show),(0,_jquery.default)(".".concat(SELECTOR_COLUMN).concat(index,"social-note")).closest(SELECTOR_SETTINGITEM).toggleClass(SELECTOR_DNONE,!show),(0,_jquery.default)(iframeDocument).find("#footer-column-".concat(index," .contentsocial")).toggleClass(SELECTOR_DNONE,!show)})),(0,_jquery.default)(SELECTOR_SHOWLOGO).on("change",showLogo),(0,_jquery.default)(SELECTOR_TERMSANDCONDITIONSSHOW).on("change",termsAndConditionsShow),(0,_jquery.default)(SELECTOR_TERMSANDCONDITIONS).on("input",termsAndConditions),(0,_jquery.default)(SELECTOR_PRIVACYPOLICYSHOW).on("change",privacyPolicyShow),(0,_jquery.default)(SELECTOR_PRIVACYPOLICY).on("input",privacyPolicy),(0,_jquery.default)(SELECTOR_COPYRIGHTSHOW).on("change",copyrightShow),(0,_jquery.default)(SELECTOR_COPYRIGHT).closest(".felement").append(M.util.get_string("footercopyrightstags","theme_remui")),(0,_jquery.default)(SELECTOR_COPYRIGHT).on("input",copyright),(0,_jquery.default)(SELECTOR_USEHEADERLOGO).on("change",useDifferentLogo),_utils.default.fileObserver((0,_jquery.default)(SELECTOR_SECONDARYFOOTERLOGO).siblings(".filemanager")[0],useDifferentLogo),(0,_jquery.default)(SELECTOR_POWEREDBY).on("change",togglePoweredBy)},apply:function(){footerColors(),footerFonts(),generateColumnSize(),showLogo(),termsAndConditionsShow(),termsAndConditions(),privacyPolicyShow(),privacyPolicy(),copyrightShow(),copyright();for(let i=1;i<=4;i++)titleChange(i),contentChange(i),toggleType(i),menuChange(i),socialSelectionChanges(i)}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=footer.min.js.map