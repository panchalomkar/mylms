define("theme_remui/customizer/utils",["exports","jquery","core/ajax","core/notification","core/modal_factory","core/modal_events","core/fragment","core/modal_save_cancel"],(function(_exports,_jquery,_ajax,_notification,_modal_factory,_modal_events,_fragment,_modal_save_cancel){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Theme customizer utils js
   * @copyright (c) 2023 WisdmLabs (https://wisdmlabs.com/) <support@wisdmlabs.com>
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   * @author    Yogesh Shirsath
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification),_modal_factory=_interopRequireDefault(_modal_factory),_modal_events=_interopRequireDefault(_modal_events),_fragment=_interopRequireDefault(_fragment);var SELECTOR_COMPONENT="theme_remui",SELECTOR_FORMLABEL=".col-form-label",SELECTOR_HMTLEDITOR="customizer_htmleditor",SELECTOR_CONTROLS="#customize-controls",SELECTOR_IFRAME="#customizer-frame",SELECTOR_IFRAME_OVERLAY="#preview-overlay",PROMISES_GET_FILE_URL=function(itemid){return _ajax.default.call([{methodname:"theme_remui_customizer_get_file_from_setting",args:{itemid:itemid}}])[0]};function getDocument(){return(0,_jquery.default)(SELECTOR_IFRAME)[0].contentDocument}function getWindow(){return(0,_jquery.default)(SELECTOR_IFRAME)[0].contentWindow}var _default={putStyle:function(id,content){id+="_style";let bodyDOM=(0,_jquery.default)(getDocument()).find("body");0==(0,_jquery.default)(bodyDOM).find("#"+id).length&&(0,_jquery.default)(bodyDOM).append('<style id="'.concat(id,'"></style>')),(0,_jquery.default)(bodyDOM).find("#"+id).html(content)},putJs:function(id,content){id+="_js";let bodyDOM=(0,_jquery.default)(getDocument()).find("body"),js=document.createElement("script");js.type="text/javascript",js.id=id,js.textContent=content,0!=(0,_jquery.default)(bodyDOM).find("#"+id).length&&(0,_jquery.default)(bodyDOM).find("#"+id).remove(),(0,_jquery.default)(bodyDOM).append(js)},loadFont:function(fontName){let id=fontName.replace(" ","");id+="_js";let bodyDOM=(0,_jquery.default)(getDocument()).find("body");if(0!=(0,_jquery.default)(bodyDOM).find("#"+id).length)return;let js=document.createElement("script");js.type="text/javascript",js.id=id,js.textContent="require(['theme_remui/webfont'], function(webFont) {\n        webFont.load({\n            google: {\n                families: ['".concat(fontName,":100,200,300,400,500,600,700,800,900']\n            }\n        });\n    });"),(0,_jquery.default)(bodyDOM).append(js)},getDocument:getDocument,getWindow:getWindow,deviceWidth:{sm:540,md:800},getFileURL:function(itemid){return PROMISES_GET_FILE_URL(itemid).fail(_notification.default.exception)},fileObserver:function(targetNode,callBack){new MutationObserver((function(){(0,_jquery.default)(SELECTOR_CONTROLS).data("unsaved",!0),callBack()})).observe(targetNode,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1})},showLoader:function(){(0,_jquery.default)(SELECTOR_IFRAME_OVERLAY).show()},hideLoader:function(){(0,_jquery.default)(SELECTOR_IFRAME_OVERLAY).hide()},htmlEditorExpand:function(name){(0,_jquery.default)("#fitem_id_".concat(name," .icon-expand")).on("click",(function(){let content=(0,_jquery.default)("#id_".concat(name)).val();_modal_factory.default.create({title:(0,_jquery.default)("#fitem_id_".concat(name," ").concat(SELECTOR_FORMLABEL)).text(),body:_fragment.default.loadFragment(SELECTOR_COMPONENT,SELECTOR_HMTLEDITOR,1,{content:content}),type:_modal_factory.default.types.SAVE_CANCEL},(0,_jquery.default)("#create")).done((function(modal){modal.show(),(0,_jquery.default)(modal.getModal()).addClass("modal-lg");var root=modal.getRoot();root.on(_modal_events.default.save,(function(event){event.preventDefault(),content=(0,_jquery.default)("#".concat(SELECTOR_COMPONENT,"_").concat(SELECTOR_HMTLEDITOR)).val(),(0,_jquery.default)("#id_".concat(name)).val(content).trigger("change"),(0,_jquery.default)("#id_".concat(name,"editable")).html(content),modal.hide()})),root.on(_modal_events.default.hidden,(function(){modal.destroy()}))}))}))},triggerResize:function(){getWindow().dispatchEvent(new Event("resize"))}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=utils.min.js.map